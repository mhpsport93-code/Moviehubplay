<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>MovieHub - Latest Movies & Shows</title>
<meta name="description" content="Discover latest movies, shows and entertainment news">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0a0a;--card:#141414;--card-hover:#1a1a1a;--text:#fff;--muted:#888;--accent:#e50914;--accent2:#b20710;--overlay:rgba(0,0,0,0.85)}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden}

/* HEADER */
.header{position:sticky;top:0;z-index:100;background:rgba(0,0,0,.9);backdrop-filter:blur(10px);padding:12px 16px;display:flex;justify-content:space-between;align-items:center}
.logo{font-size:22px;font-weight:800;color:var(--accent);cursor:pointer}
.icon-btn{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);border:none;color:#fff;cursor:pointer}

/* SEARCH */
.search-container{position:absolute;inset:0;background:#000;display:flex;align-items:center;gap:10px;padding:0 16px;transform:translateY(-100%);transition:.3s}
.search-container.active{transform:none}
.search-container input{flex:1;height:42px;background:#111;border:1px solid #333;border-radius:8px;color:#fff;padding:0 14px}

/* SOCIAL */
.social-buttons{display:flex;justify-content:center;gap:12px;padding:16px}
.social-btn{padding:12px 22px;border-radius:50px;font-weight:600;text-decoration:none;color:#fff}
.whatsapp{background:#25d366}
.telegram{background:#0088cc}
.channel{background:linear-gradient(135deg,#0088cc,#00a8e8)}

/* NOTICE*/
.notice-bar{
  background:linear-gradient(135deg,var(--accent),var(--accent2)); /* left-top → right-bottom */
  padding:12px 16px;
  margin:12px 20px;              /* 20px left & right */
  border-radius:12px;
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}

.notice-text{
  display:flex;
  flex-direction:column;
  gap:4px;
}

.notice-heading{
  font-size:15px;
  font-weight:800;
  line-height:1.2;
}

.notice-content{
  font-size:13px;
  font-weight:500;
  line-height:1.4;
}

.notice-close{
  font-size:18px;
  cursor:pointer;
  color:#fff;
  line-height:1;
}

/* HERO*/
.hero-section{padding:16px}
.section-title{font-size:17px;font-weight:700;margin-bottom:10px;display:flex;gap:8px;align-items:center}
.hero-wrapper{max-width:1100px;margin:auto}
.hero-slider{background:var(--card);border-radius:14px;overflow:hidden}
.hero-track{display:flex;transition:.5s}
.hero-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;min-width:100%;padding:10px}
@media(min-width:768px){.hero-grid{grid-template-columns:repeat(5,1fr)}}
.hero-card{aspect-ratio:2/3;border-radius:8px;overflow:hidden;background:#000;cursor:pointer}
.hero-card img{width:100%;height:100%;object-fit:contain}
.hero-dots{display:flex;justify-content:center;gap:6px;padding:8px}
.hero-dot{width:8px;height:8px;border-radius:50%;background:#555}
.hero-dot.active{width:20px;border-radius:6px;background:var(--accent)}

/* GRID*/
.main-section{padding:16px}

.posts-grid{
  display:grid;
  gap:12px;
  grid-template-columns:repeat(2, minmax(0,1fr));
}

@media(min-width:640px){
  .posts-grid{
    grid-template-columns:repeat(auto-fill, minmax(160px, 1fr));
  }
}

/* Card */
.post-card{
  background:var(--card);
  border-radius:10px;
  overflow:hidden;
  cursor:pointer;
  transition:.25s;
}
.post-card:hover{transform:translateY(-4px)}

.post-poster{
  aspect-ratio:2/3;
  background:#000;
}
.post-poster img{
  width:100%;
  height:100%;
  object-fit:contain;
}

.post-info{padding:8px}
.post-title{
  font-size:13px;
  font-weight:600;
  line-height:1.4;
}
.post-category{
  font-size:11px;
  color:var(--accent);
}

/* SKELETON */
.skeleton{background:linear-gradient(90deg,#1a1a1a 25%,#2a2a2a 50%,#1a1a1a 75%);background-size:200% 100%;animation:shimmer 1.4s infinite}
@keyframes shimmer{to{background-position:-200% 0}}
.skeleton-card{border-radius:10px;overflow:hidden}
.skeleton-poster{aspect-ratio:2/3}
.skeleton-text{height:14px;margin:8px;border-radius:4px}

/* POST PAGE */
.post-page{display:none}
.post-page.active{display:block}
.home-page.hidden{display:none}

.post-header{
  padding:16px;
  position:relative;
}

.post-close{
  position:absolute;
  top:14px;
  right:14px;
  width:38px;
  height:38px;
  border-radius:50%;
  border:none;
  background:rgba(0,0,0,.6);
  color:#fff;
  font-size:18px;
  cursor:pointer;
}

.post-page-title{
  font-size:22px;
  font-weight:800;
  margin-bottom:12px;
}

.post-page-poster{
  width:100%;
  max-height:360px;
  object-fit:contain;
  background:#000;
  border-radius:12px;
  margin-bottom:16px;
}

.share-buttons{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-bottom:16px;
}

.share-btn{
  width:48px;
  height:48px;
  border-radius:50%;
  border:none;
  display:flex;
  align-items:center;
  justify-content:center;
}

.share-btn svg{
  width:22px;
  height:22px;
  fill:#fff;
}

.post-content{
  padding:0 16px 20px;
  line-height:1.8;
}

/* RELATED GRID*/
.related-section{padding:16px}

.related-grid{
  display:grid;
  gap:12px;
  grid-template-columns:repeat(2, minmax(0,1fr)); /* mobile fixed */
}

@media(min-width:640px){
  .related-grid{
    grid-template-columns:repeat(auto-fill, minmax(160px,1fr));
  }
}
.post-close{
  position:fixed;
  top:72px;        
  right:16px;
  width:40px;
  height:40px;
  border-radius:50%;
  border:none;
  background:rgba(#c41212);
  color:#fff;
  font-size:20px;
  cursor:pointer;
  z-index:9999;
  display:flex;
  align-items:center;
  justify-content:center;
}
/* FOOTER */
.footer{text-align:center;padding:20px;color:#777;font-size:13px}
</style>
</head>
<body>

<header class="header">
  <div class="logo" onclick="goHome()">MovieHub</div>
  <div>
    <button class="icon-btn" onclick="toggleSearch()"><i class="fas fa-search"></i></button>
    
  </div>
  <div class="search-container" id="searchContainer">
    <input id="searchInput" placeholder="Search..." oninput="handleSearch(this.value)">
    <button class="icon-btn" onclick="toggleSearch()"><i class="fas fa-times"></i></button>
  </div>
</header>

<div class="home-page" id="homePage">




<section class="hero-section">
<h2 class="section-title"><i class="fas fa-fire"></i> Trending</h2>
<div class="hero-wrapper">
<div class="hero-slider">
  <div class="hero-track" id="heroTrack"></div>
</div>
<div class="hero-dots" id="heroDots"></div>
</div>
</section>
<div class="notice-bar" id="noticeBar">
  <div class="notice-text">
    <div class="notice-heading">NOTICE</div>
    <div class="notice-content">
      Welcome to MovieHub! Get latest movies and shows updates here!
    </div>
  </div>
  <i class="fa fa-times notice-close"
     onclick="document.getElementById('noticeBar').style.display='none'"></i>
</div>
<section class="social-buttons" style="display:flex;justify-content:center;gap:10px;padding:12px">
  
  <a class="social-btn whatsapp" href="#" style="display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:999px;font-size:13px;font-weight:600;background:#25d366;color:#fff;text-decoration:none">
    <svg viewBox="0 0 24 24" style="width:16px;height:16px;fill:#fff">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347"/>
    </svg>
    WhatsApp
  </a>

  <a class="social-btn telegram" href="#" style="display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:999px;font-size:13px;font-weight:600;background:#0088cc;color:#fff;text-decoration:none">
    <svg viewBox="0 0 24 24" style="width:16px;height:16px;fill:#fff">
      <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
    </svg>
    Telegram
  </a>

  <a class="social-btn channel" href="#" style="display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:999px;font-size:13px;font-weight:600;background:linear-gradient(135deg,#0088cc,#00a8e8);color:#fff;text-decoration:none">
    <svg viewBox="0 0 24 24" style="width:16px;height:16px;fill:#fff">
      <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.5 7.5-2.1 9.9c-.16.7-.58.87-1.18.54l-3.26-2.4-1.57 1.51c-.17.17-.32.32-.65.32l.23-3.32 6.04-5.45c.26-.23-.06-.36-.4-.13l-7.46 4.7-3.21-1c-.7-.22-.71-.7.15-1.04l12.55-4.84c.58-.22 1.09.14.9.86z"/>
    </svg>
    Channel
  </a>

</section>


<section class="main-section">
<h2 class="section-title"><i class="fas fa-th-large"></i> Browse</h2>
<div class="posts-grid" id="postsGrid"></div>
</section>

</div>

<article class="post-page" id="postPage">
<div class="post-header">
<button class="post-close" onclick="goHome()"></button>
<h1 class="post-page-title" id="postTitle"></h1>
<img id="postPoster" class="post-page-poster">
<div class="share-buttons">
<button class="share-btn whatsapp" onclick="shareWhatsApp()"><svg viewBox="0 0 24 24"><path d="M17.5 14.4c-.3-.1-1.8-.9-2.1-1-.3-.1-.5-.1-.7.2-.2.3-.8 1-1 1.2-.2.2-.4.2-.7.1-.3-.1-1.3-.5-2.4-1.5-.9-.8-1.5-1.8-1.7-2.1-.2-.3 0-.4.1-.6l.4-.5c.1-.2.2-.3.3-.5.1-.2 0-.4 0-.5-.1-.1-.7-1.6-.9-2.2-.2-.6-.5-.5-.7-.5h-.6c-.2 0-.5.1-.8.4-.3.3-1 1-1 2.5s1.1 2.9 1.2 3.1c.1.2 2.1 3.2 5.1 4.5.7.3 1.3.5 1.7.6.7.2 1.4.2 1.9.1.6-.1 1.8-.7 2-1.4.2-.7.2-1.3.2-1.4 0-.1-.3-.2-.6-.3"/></svg></button>
<button class="share-btn telegram" onclick="shareTelegram()"><svg viewBox="0 0 24 24"><path d="M11.9 0A12 12 0 0 0 0 12a12 12 0 0 0 24 0A12 12 0 0 0 11.9 0zm5 7.2c.1 0 .3 0 .5.1.2.1.2.3.2.5-.2 1.9-1 6.5-1.4 8.6-.2.9-.5 1.2-.8 1.2-.7.1-1.2-.5-1.9-.9-1-.7-1.6-1.1-2.6-1.8-1.2-.8-.4-1.2.3-1.9.2-.2 3.2-3 3.3-3.2.1-.2 0-.3-.1-.3-.1 0-.2 0-.3 0-.1 0-1.8 1.1-5.1 3.3-.5.3-.9.5-1.3.5-.4 0-1.3-.2-1.9-.4-.8-.3-1.3-.4-1.3-.8 0-.2.3-.4.9-.7 3.5-1.5 5.8-2.5 7-3 3.3-1.4 4-1.6 4.5-1.6z"/></svg></button>
<button class="share-btn" onclick="shareNative()"><svg viewBox="0 0 24 24"><path d="M18 16c-.8 0-1.5.3-2 .8L9 12.7c.1-.2.1-.5.1-.7s0-.5-.1-.7l7-4.1c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9S19.6 16 18 16z"/></svg></button>
</div>
</div>
<div class="post-content" id="postContent"></div>
<section class="related-section">
<h2 class="section-title"><i class="fas fa-film"></i> Related</h2>
<div class="related-grid" id="relatedGrid"></div>
</section>
</article>

<footer class="footer">�2026MovieHub</footer>

<script>
var API="https://script.google.com/macros/s/AKfycbzgtOcczn9kj8gVEhQ5WY7pEAOhCJu88z1ieUWRd6oxtNgdvPLtZ3MAVuBjxEf_NyLt/exec";
var allPosts=[],page=1,loading=false,finished=false,query="",heroIndex=0,heroTimer,currentPost=null;
function getQueryParam(name){
  return new URLSearchParams(window.location.search).get(name);
}
function getImage(h){var m=h.match(/<img[^>]+src="([^">]+)"/i);return m?m[1]:""}
function skeleton(){return'<div class="skeleton-card skeleton"><div class="skeleton-poster skeleton"></div><div class="skeleton-text skeleton"></div><div class="skeleton-text skeleton"></div></div>'}

function loadPosts(){
 if(loading||finished)return;
 loading=true;
 var g=document.getElementById("postsGrid");
 for(var i=0;i<6;i++)g.insertAdjacentHTML("beforeend",skeleton());
 fetch(API+"?page="+page+"&q="+encodeURIComponent(query)).then(r=>r.json()).then(d=>{
  g.querySelectorAll(".skeleton-card").forEach(e=>e.remove());
  if(!d.results||!d.results.length){finished=true;loading=false;return}
  d.results.forEach(p=>{allPosts.push(p);renderCard(p,g)});
  const postSlug = getQueryParam("post");
if(postSlug){
  const found = d.results.find(x => x.slug === postSlug);
  if(found){
    openPost(found);
    return;
  }
}
  if(page===1)renderHero();
  page++;loading=false;
 }).catch(()=>{g.querySelectorAll(".skeleton-card").forEach(e=>e.remove());loading=false})
}

function renderCard(p,c){
 var d=document.createElement("div");
 d.className="post-card";
 var img=getImage(p.content);
 d.innerHTML='<div class="post-poster">'+(img?'<img src="'+img+'">':'')+'</div><div class="post-info"><div class="post-title">'+p.title+'</div><div class="post-category">'+(p.category||"")+'</div></div>';
 d.onclick=()=>openPost(p);
 c.appendChild(d);
}

function renderHero(){
 var t=document.getElementById("heroTrack"),dots=document.getElementById("heroDots");
 t.innerHTML="";dots.innerHTML="";
 var items=allPosts.slice(0,12),per=window.innerWidth<768?3:5;
 var slides=Math.ceil(items.length/per);
 for(let i=0;i<slides;i++){
  var g=document.createElement("div");g.className="hero-grid";
  items.slice(i*per,i*per+per).forEach(p=>{
   var c=document.createElement("div");c.className="hero-card";
   var img=getImage(p.content);
   c.innerHTML=img?'<img src="'+img+'">':'';
   c.onclick=()=>openPost(p);
   g.appendChild(c);
  });
  t.appendChild(g);
  var d=document.createElement("div");d.className="hero-dot"+(i==0?" active":"");
  d.onclick=(()=>{let x=i;return()=>goHero(x)})();
  dots.appendChild(d);
 }
 startHero(slides);
}

function goHero(i){
 heroIndex=i;
 document.getElementById("heroTrack").style.transform="translateX(-"+(i*100)+"%)";
 document.querySelectorAll(".hero-dot").forEach((d,x)=>d.classList.toggle("active",x===i));
}

function startHero(t){
 clearInterval(heroTimer);
 heroTimer=setInterval(()=>{heroIndex=(heroIndex+1)%t;goHero(heroIndex)},4000);
}

function openPost(p){
 currentPost=p;
 document.getElementById("homePage").classList.add("hidden");
 document.getElementById("postPage").classList.add("active");
 document.getElementById("postTitle").textContent=p.title;
 var img=getImage(p.content);
 var poster=document.getElementById("postPoster");
 poster.style.display=img?"block":"none";
 if(img)poster.src=img;
 var c=p.content;
 if(img)c=c.replace(/<img[^>]*>/i,"");
 document.getElementById("postContent").innerHTML=c;
 history.pushState({},'',"?post="+p.slug);
 window.scrollTo(0,0);
 var r=document.getElementById("relatedGrid");r.innerHTML="";
 allPosts.filter(x=>x.category===p.category&&x.slug!==p.slug).slice(0,6).forEach(x=>renderCard(x,r));
}

function goHome(){
 document.getElementById("postPage").classList.remove("active");
 document.getElementById("homePage").classList.remove("hidden");
 history.pushState({},'',location.pathname);
 currentPost=null;
}

function toggleSearch(){document.getElementById("searchContainer").classList.toggle("active")}
function handleSearch(v){query=v;page=1;finished=false;allPosts=[];document.getElementById("postsGrid").innerHTML="";loadPosts()}
function toggleSidebar(){}

function shareWhatsApp(){window.open("https://wa.me/?text="+encodeURIComponent(location.href))}
function shareTelegram(){window.open("https://t.me/share/url?url="+encodeURIComponent(location.href))}
function shareNative(){navigator.share?navigator.share({url:location.href}):navigator.clipboard.writeText(location.href)}

window.addEventListener("scroll",()=>{if(!document.getElementById("postPage").classList.contains("active")&&innerHeight+scrollY>document.body.offsetHeight-400)loadPosts()});
document.addEventListener("keydown",e=>{if(e.key==="Escape"&&document.getElementById("postPage").classList.contains("active"))goHome()});
window.addEventListener("popstate",()=>{
  const slug = getQueryParam("post");
  if(slug){
    const found = allPosts.find(x=>x.slug===slug);
    if(found) openPost(found);
  }else{
    goHome();
  }
});

loadPosts();
</script>
</body>
</html>
